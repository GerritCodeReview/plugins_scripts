{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "678797c1_fd64c04f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2023-11-19T21:28:17Z",
      "side": 1,
      "message": "verifies",
      "range": {
        "startLine": 9,
        "startChar": 27,
        "endLine": 9,
        "endChar": 33
      },
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "734f255e_fec27742",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-20T23:12:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "678797c1_fd64c04f",
      "range": {
        "startLine": 9,
        "startChar": 27,
        "endLine": 9,
        "endChar": 33
      },
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70cf5ad5_97e616ad",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2023-11-19T21:28:17Z",
      "side": 1,
      "message": "doesn\u0027t",
      "range": {
        "startLine": 10,
        "startChar": 18,
        "endLine": 10,
        "endChar": 26
      },
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "39739b32_91e3f962",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-20T23:12:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "70cf5ad5_97e616ad",
      "range": {
        "startLine": 10,
        "startChar": 18,
        "endLine": 10,
        "endChar": 26
      },
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ee97be0_f69e5dee",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2023-11-19T21:28:17Z",
      "side": 1,
      "message": "dies",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 3
      },
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ec14299_7eafe11a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-20T23:12:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0ee97be0_f69e5dee",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 3
      },
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f680473a_3a2db287",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-18T11:41:40Z",
      "side": 1,
      "message": "Verified manually and works as expected",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86f1d376_446dff86",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-11-20T09:39:58Z",
      "side": 1,
      "message": "How is the pluginName inferred, since it\u0027s a groovy script? The only thing I can think of is that its using the script name without the `-1.0.groovy` suffix, is that the case?",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e3bd6828_6c742988",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2023-11-23T02:14:03Z",
      "side": 1,
      "message": "Yep, the `-1.0` then becomes the version, minus the `-`.",
      "parentUuid": "86f1d376_446dff86",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6aca018_1342d8bc",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-11-20T09:39:58Z",
      "side": 1,
      "message": "is `.scheduleAtFixedRate` the right thing to do here? This will will keep increasing the time between two executions.",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f2a5ea5_3ff4f45d",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2023-11-23T02:14:03Z",
      "side": 1,
      "message": "My understanding is that `scheduleAtFixedRate` does exactly the opposite, and will run at a fixed interval.\n\nMaybe you\u0027re referring to `scheduleAtFixedDelay`? Which does what you mention, I would argue that it\u0027s a better solution, as it insures we never overlap the 2 tasks. Although we\u0027re not running this often enough for it to be a worry.",
      "parentUuid": "c6aca018_1342d8bc",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9d3122c_58e149cd",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 77,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-11-20T09:39:58Z",
      "side": 1,
      "message": "why are you renaming the thread?",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e80e233_3d5ae0d9",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 77,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-23T17:05:30Z",
      "side": 1,
      "message": "For visibility in the `gerrit show-queue` command.",
      "parentUuid": "e9d3122c_58e149cd",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb27d4dd_819a2a33",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 83,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-11-20T09:39:58Z",
      "side": 1,
      "message": "The error could be whilst checking for the presence of the lock file, or whilst deleting it. These are different cases and we should be more clear in our message. Although if you refactor this method then this wont be a problem.",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92b32751_40b77ae7",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 83,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2023-11-23T02:14:03Z",
      "side": 1,
      "message": "Hopefully having the `withCause` should be enough to figure out why the method call failed.",
      "parentUuid": "eb27d4dd_819a2a33",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8be4bd5f_55ff66ed",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 83,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-23T17:05:30Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "92b32751_40b77ae7",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4319a606_596fb180",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 92,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-11-20T09:39:58Z",
      "side": 1,
      "message": "this method not only checks for the presence of the lock file, but also deletes it if present. We should break it up and name it better so its clear what its doing.",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19485e5b_6aaf1028",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 92,
      "author": {
        "id": 1155599
      },
      "writtenOn": "2023-11-23T02:14:03Z",
      "side": 1,
      "message": "Tried breaking it up a few ways, don\u0027t think it makes much sense tbh as the return types between the methods would be a bit ugly, as we don\u0027t want to reliquish the lock on the file. I\u0027ll rename it so it\u0027s clearer what its doing.",
      "parentUuid": "4319a606_596fb180",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb7b86de_6af05aa5",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 102,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2023-11-19T21:28:17Z",
      "side": 1,
      "message": "isn\u0027t this racy ? Between reading the lastModified timestamp and deleting the lock file another thread could modify packed-refs.lock",
      "range": {
        "startLine": 100,
        "startChar": 0,
        "endLine": 102,
        "endChar": 55
      },
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "338d8898_0494b5d0",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 102,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-20T23:09:56Z",
      "side": 1,
      "message": "Yes, there is the risk of assuming that the packed-refs.lock was stale, whilst it was just being held for a very long time and then removed.\n\nAre you proposing to perhaps doing a move and then a delete afterwards?",
      "parentUuid": "bb7b86de_6af05aa5",
      "range": {
        "startLine": 100,
        "startChar": 0,
        "endLine": 102,
        "endChar": 55
      },
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2866efc_4fe46eb9",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2023-11-19T21:28:17Z",
      "side": 1,
      "message": "you may consider to use org.eclipse.jgit.util.FileUtils#lastModifiedInstant",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "765e065e_5b4a5b26",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-20T23:09:56Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "c2866efc_4fe46eb9",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "557e3157_0b19266c",
        "filename": "admin/stale-packed-refs-1.0.groovy",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-20T23:12:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "765e065e_5b4a5b26",
      "revId": "8c680ce0e9919168e2f0ca82909952f1e3a3fd19",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}